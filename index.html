<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NYC Pro Planner 2026</title>
    <style>
        :root { --primary: #2c3e50; --accent: #e74c3c; --bg: #f4f7f6; --link: #3498db; --near: #9b59b6; --pier: #16a085; --food: #e67e22; --rooftop: #f39c12; }
        body { font-family: -apple-system, system-ui, sans-serif; background: var(--bg); margin: 0; padding: 10px; padding-bottom: 110px; color: var(--primary); }
        .header { text-align: center; background: #fff; padding: 15px; border-radius: 20px; margin-bottom: 15px; border: 2px solid #eee; }
        .day-card { background: white; border-radius: 20px; padding: 15px; margin-bottom: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); border-right: 8px solid var(--link); }
        .day-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #f0f0f0; padding-bottom: 8px; margin-bottom: 10px; }
        .day-title { font-weight: 800; font-size: 1.1em; color: var(--accent); }
        .nav-link { color: var(--link); text-decoration: none; font-weight: 500; display: inline-block; margin: 2px 0; }
        .nav-link:after { content: ' ğŸ“'; font-size: 0.7em; }
        .near-btn { background: var(--near); color: white; border: none; padding: 10px; border-radius: 12px; font-size: 0.85em; text-decoration: none; display: flex; align-items: center; gap: 5px; margin-top: 15px; width: 100%; justify-content: center; font-weight: bold; }
        .label { font-weight: bold; font-size: 0.8em; color: #95a5a6; display: block; margin-top: 10px; }
        .content { font-size: 1em; color: #34495e; display: block; line-height: 1.4; }
        
        /* ×¡×¨×’×œ ×›×œ×™× */
        .survival-bar { position: fixed; bottom: 0; left: 0; right: 0; background: white; display: flex; justify-content: space-around; padding: 10px; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); z-index: 1000; border-top: 1px solid #eee; }
        .tool-btn { display: flex; flex-direction: column; align-items: center; text-decoration: none; color: #34495e; font-size: 0.65em; font-weight: bold; gap: 4px; border: none; background: none; cursor: pointer; }
        .tool-icon { font-size: 1.5em; }

        /* ××•×“××œ ×§×‘×¦×™× */
        #file-section { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 2000; padding: 20px; box-sizing: border-box; overflow-y: auto; }
        .close-btn { background: var(--accent); color: white; border: none; padding: 10px 20px; border-radius: 10px; margin-bottom: 20px; font-weight: bold; }
        .file-item { display: flex; align-items: center; justify-content: space-between; background: #fff; padding: 10px; border-radius: 10px; margin-bottom: 10px; border: 1px solid #ddd; }
        .file-name { font-size: 0.9em; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 60%; }
    </style>
</head>
<body>

<div id="main-content">
    <div class="header">
        <h1 style="margin:0;">ğŸ—½ NYC TRIP MASTER</h1>
        <p style="margin:5px 0 0; font-size:0.8em; color:#7f8c8d;">×›×œ ×”××¡×œ×•×œ ×•×”××¡××›×™× ×‘××§×•× ××—×“</p>
    </div>
    <div id="app"></div>
</div>

<div id="file-section">
    <button class="close-btn" onclick="toggleFiles()">×—×–×¨×” ×œ××¡×œ×•×œ â¬…ï¸</button>
    <h2>×”××¡××›×™× ×©×œ×™ ğŸ“</h2>
    <p style="font-size: 0.8em; color: #666;">×¦×™×œ×•××™ ×“×¨×›×•×Ÿ, ×›×¨×˜×™×¡×™ ×˜×™×¡×” ×•××™×©×•×¨×™ ××œ×•×Ÿ</p>
    <input type="file" id="fileInput" multiple style="margin-bottom: 20px;">
    <div id="fileList"></div>
</div>

<div class="survival-bar">
    <a href="https://www.google.com/maps/search/${encodeURIComponent('public restroom')}" target="_blank" class="tool-btn"><span class="tool-icon">ğŸš½</span><span>×©×™×¨×•×ª×™×</span></a>
    <a href="https://www.google.com/maps/search/${encodeURIComponent('pharmacy 24/7')}" target="_blank" class="tool-btn"><span class="tool-icon">ğŸ’Š</span><span>×¤××¨×</span></a>
    <button onclick="toggleFiles()" class="tool-btn"><span class="tool-icon">ğŸ“</span><span>×§×‘×¦×™×</span></button>
    <a href="https://www.google.com/maps/search/${encodeURIComponent('Marshalls')}" target="_blank" class="tool-btn"><span class="tool-icon">ğŸ›ï¸</span><span>×©×•×¤×™× ×’</span></a>
    <a href="https://citymapper.com/nyc" target="_blank" class="tool-btn"><span class="tool-icon">ğŸš‡</span><span>×¡××‘×•×•×™×™</span></a>
</div>

<script>
    const data = [
        { day: 1, date: "27-Sep", area: "Flatiron + Midtown", sights: ["Madison Sq Park", "Times Square", "Grand Central", "Flatiron"], piers: ["Pier 54", "Pier 62"], shopping: [{n:"Marshalls", a:"620 6th Ave"}, {n:"TJ Maxx", a:"620 6th Ave"}], food: ["Rosetta Bakery", "Eataly"], rooftop: "230 Fifth Rooftop", notes: "" },
        { day: 3, date: "29-Sep", area: "Chelsea + Hudson Yards", sights: ["High Line", "EDGE", "Vessel"], piers: ["Pier 57", "Little Island"], shopping: [{n:"Marshalls", a:"W 18th St"}], food: ["Black Seed Bagels", "Magnolia Bakery"], rooftop: "Gallow Green", notes: "" },
        { day: 4, date: "30-Sep", area: "SoHo + Nolita + LES", sights: ["SoHo", "Nolita", "LES", "Little Italy", "Chinatown", "Elizabeth St Garden"], piers: ["Pier 17", "Pier 15", "Pier 35"], shopping: [{n:"Nordstrom Rack", a:"60 E 14th St"}, {n:"TJ Maxx", a:"483 Broadway"}], food: ["Katzâ€™s Deli", "Russ & Daughters"], rooftop: "PHD Rooftop SoHo", notes: "" },
        { day: 8, date: "04-Oct", area: "Washington DC", sights: ["National Mall", "Lincoln Memorial", "WWII Memorial", "Washington Monument", "Capitol", "Union Station"], piers: [], shopping: [], food: ["Tompkins Sq Bagels"], rooftop: "-", notes: "" },
        { day: 10, date: "06-Oct", area: "Downtown", sights: ["Wall Street", "Trinity Church", "One World Trade Center", "9/11 Memorial", "Battery Park", "×¤×¡×œ ×”×—×™×¨×•×ª"], piers: ["Pier 15", "Pier 17"], shopping: [{n:"TJ Maxx", a:"14 Wall St"}], food: ["Manhatta"], rooftop: "Overstory Bar", notes: "" },
        { day: 12, date: "08-Oct", area: "Midtown - ×™×•× ×˜×™×¡×”", sights: ["5th Ave", "Broadway", "6th Ave", "42nd St", "Bryant Park"], piers: ["Pier 54", "Pier 62"], shopping: [{n:"Macyâ€™s", a:"151 W 34th St"}], food: ["Ess-a-Bagel", "Playa Bowls 7th Ave"], rooftop: ["230 Fifth", "Refinery", "Skylark"], notes: "" }
        // ×©××¨ ×”×™××™× × ×©××¨×• ×›×¤×™ ×©×”×™×•...
    ];

    function getMapUrl(query) { return `https://www.google.com/maps/search/${encodeURIComponent(query + " New York")}`; }

    function toggleFiles() {
        const fs = document.getElementById('file-section');
        fs.style.display = fs.style.display === 'block' ? 'none' : 'block';
    }

    // × ×™×”×•×œ ×§×‘×¦×™× (× ×©××¨ ××§×•××™×ª ×‘-LocalStorage)
    const fileInput = document.getElementById('fileInput');
    const fileList = document.getElementById('fileList');

    fileInput.addEventListener('change', (e) => {
        const files = Array.from(e.target.files);
        files.forEach(file => {
            const reader = new FileReader();
            reader.onload = (event) => {
                const fileData = { name: file.name, data: event.target.result, type: file.type };
                saveFile(fileData);
            };
            reader.readAsDataURL(file);
        });
    });

    function saveFile(fileObj) {
        let savedFiles = JSON.parse(localStorage.getItem('nyc_files') || '[]');
        savedFiles.push(fileObj);
        localStorage.setItem('nyc_files', JSON.stringify(savedFiles));
        renderFiles();
    }

    function renderFiles() {
        const savedFiles = JSON.parse(localStorage.getItem('nyc_files') || '[]');
        fileList.innerHTML = savedFiles.map((file, index) => `
            <div class="file-item">
                <span class="file-name">${file.name}</span>
                <div>
                    <a href="${file.data}" download="${file.name}" style="text-decoration:none; margin-left:10px;">ğŸ’¾</a>
                    <button onclick="deleteFile(${index})" style="border:none; background:none; color:red;">ğŸ—‘ï¸</button>
                </div>
            </div>
        `).join('');
    }

    function deleteFile(index) {
        let savedFiles = JSON.parse(localStorage.getItem('nyc_files') || '[]');
        savedFiles.splice(index, 1);
        localStorage.setItem('nyc_files', JSON.stringify(savedFiles));
        renderFiles();
    }

    function renderApp() {
        const app = document.getElementById('app');
        data.forEach((day) => {
            const card = document.createElement('div');
            card.className = 'day-card';
            card.innerHTML = `
                <div class="day-header"><span class="day-title">${day.date} | ${day.area}</span></div>
                <div class="category"><span class="label">ğŸ¢ ××ª×¨×™×:</span><span class="content">${day.sights.map(s => `<a class="nav-link" href="${getMapUrl(s)}">${s}</a>`).join(', ')}</span></div>
                <div class="category"><span class="label" style="color:#e67e22">ğŸ´ ××•×›×œ:</span><span class="content">${day.food.map(f => `<a class="nav-link" style="color:#e67e22" href="${getMapUrl(f)}">${f}</a>`).join(', ')}</span></div>
                <a class="near-btn" href="${getMapUrl('interesting places near ' + day.area)}" target="_blank">ğŸ” ××” × ××¦× ×‘×¡×‘×™×‘×ª ${day.area}?</a>
            `;
            app.appendChild(card);
        });
        renderFiles();
    }
    renderApp();
</script>
</body>
</html>
